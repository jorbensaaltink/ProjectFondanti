@{
    // Voor de Database
    var db = Database.Open("Fondanti");

    // Algemene variabelen
    int count = 0;
    int numb = 0;
    List <string> lijstCake = new List<string>{ "cake1","cake2", "cake3", "cake4", "cake5" };
    List <string> lijstBekleding = new List<string>{ "bekleding1","bekleding2", "bekleding3", "bekleding4", "bekleding5" };
    List <string> lijstVulling = new List<string>{ "vulling1","vulling2", "vulling3", "vulling4", "vulling5" };
    

    // Zodat boven nog tabel ziet met huidige wensen

    List<string> Thema = new List<string>();
    List<string> Vulling = new List<string>();
    List<string> Cake = new List<string>();
    List<string> Bekleding = new List<string>();
    List<string> Decoratie = new List<string>();
    
    List<string> VullingPr = new List<string>();
    List<string> CakePr = new List<string>();
    List<string> BekledingPr = new List<string>();
    List<string> DecoratiePr = new List<string>();
    
    List<string> Type = new List<string>(){"Thema", "Vulling", "Cake", "Bekleding", "Decoratie" };

    if (IsPost){
        Response.Redirect("ConfirmationPage");
    }

    foreach(var x in Type){
        
        var selectProduct = "SELECT Product FROM VOORRAAD  WHERE Type = @0";
        var rows = db.Query(selectProduct, x);

        var selectPrijs = "SELECT Prijs FROM VOORRAAD  WHERE Type = @0";
        var rowsprijs = db.Query(selectPrijs, x);
        
     // Toevoegen aan list voor het type

        if (x == "Thema"){
            foreach(var row in rows){
                Thema.Add(row.Product);
            }
        }
    
        // Voor vulling
        if (x == "Vulling"){
            foreach(var row in rows){
                Vulling.Add(row.Product);
                 
            }
            foreach(var rowprijs in rowsprijs){
                VullingPr.Add(rowprijs.Prijs);
            }
        }
        // Voor Cake
        if (x == "Cake"){
            foreach(var row in rows){
                Cake.Add(row.Product);
                 
            }
            foreach(var rowprijs in rowsprijs){
                CakePr.Add(rowprijs.Prijs);
            }
        }
        // Voor Bekleding
        if (x == "Bekleding"){
            foreach(var row in rows){
                Bekleding.Add(row.Product);
                 
            }
            foreach(var rowprijs in rowsprijs){
                BekledingPr.Add(rowprijs.Prijs);
            }
        }
        // Voor Decoratie
        if (x == "Decoratie"){
            foreach(var row in rows){
                Decoratie.Add(row.Product);
                 
            }
            foreach(var rowprijs in rowsprijs){
                DecoratiePr.Add(rowprijs.Prijs);
            }

        }
    }

}

<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="trouwtaarten, trouwen, taart, kindertaart, cupcakes, feest, custom, mooi, handgemaakt, kwaliteit, lekker, heerlijk, fondanti, ijlst, friesland">
    <meta name="description" content="Fondanti maakt unieke taarten en cupcakes die er niet alleen fantastisch uit zien maar ook heerlijk smaken.">
    <meta id="myViewport" name="viewport" content="width=device-width, initial-scale=1">

    <title>Fondanti - Fabulous cakes</title>
    
    <link href="css/reset.css" rel="stylesheet" type="text/css" />
    <link href="css/fondanti.css" rel="stylesheet" type="text/css" />

    <link href="~/FondantiStyle.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="js/JScript.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

</head>
<body>
    <div id="top-header">
        <div class="content-center">
            <div id="header-logo"><img src="img/fondanti-logo.png" alt="Fondanti logo"/></div>
            <div id="header-phone-number"><p><a href="order.cshtml"><img src="img/image.png" alt="Bestellen"></a><a href="http://www.facebook.com/fondanti"><img src="img/facebook_logo.png" alt="Fondanti on Facebook"/></a><a href="tel:+31616064485"><img src="img/white_phone.png" alt="white phone"/><span>0616064485</span></a></p></div>
        </div>
    </div>

    <div class="content-box" id="fondanti-content-box">
        <div class="main-background-image" id="fondanti-main-background"><img src="img/bg_verjaardag_taart_bep.jpg" alt="verjaardagstaart"/></div>
        <div class="content-center">
            <div class="text-box" id="fondanti-text">
                <h2>Fondanti</h2>
                <p class="bigger">Maak hier uw verlopige bestelling, zo komt u direct in contact met Fondanti & heeft u meteen een idee wat het gaat kosten.</p>
                <p class="bigger">Wilt u voorbeelden zien? Klik dan <a href="https://www.facebook.com/fondanti/photos_albums">hier.</a></p>
            </div>
        </div>
    </div>

    <div class="content-box" id="wedding-cake-content-box">
        <div class="main-background-image" id="wedding-cake-main-background"><img src="img/bg_wedding_cake.jpg" alt="trouwtaart"/></div>
        <div class="content-center"><div class="adjustment">
                
    <form method="post">
        <br><br><br>
        <div id="Stap1">
                    
                    <h2>Stap 1: De samenstelling</h2>
            
            
            <!--------- Taart voor display ----------->
            <div class="taartbox">
                <div class="middle">
                    <div id="taartDiv" style="width: 450px; text-align: center;  line-height: 0%">
                    </div>
                </div>
            </div>
            
            
            <p>
                <label>Inspiratieafbeelding uploaden:</label>
                    <label for="Image">Image</label>
                    <input type="file" name="Image" />
                    <br/>
            </p>
            <p>
                <label>Thema:</label>
                    <select name ="test">
                        <option value=""></option>
                        @foreach(var x in Thema){
                            <option value="@x">@x</option>
                        }

                    </select> 
                <input type="text"> </p>

            <p>
                <label>Aantal personen:</label>
                <input id="aantalPersonenInput" type="number" onchange="buttonCheck()">
            </p>

            <!------ Om van Razor na Javascipt te gaan  -------->
            
                <!------ Cake  -------->

            <!----------------- Einde -------------------------->

                <div id="laag1">
                    <p>
                        <label>Laag 1:</label> 
                        <button id="addButton" type="button" onclick="addLaag()">+</button>
                        <button id="removeButton" type="button" onclick="removeLaag()">-</button>
                        <a id="laagToevoegenText">Uw kunt 1 laag extra toevoegen per 15 personen.</a>
                    </p>
                </div>

            

            <p><label>Type Niveau decoratie:</label>
               <select name ="test" form="test">
               <option value=""></option>
               @foreach(var x in Decoratie){
                    <option value="@x">@x @DecoratiePr[count]</option>
                    @(count++)
               }
                @(count =0)
               </select>  </p>

            <p><label>Allergieen:</label>
               <select name ="test" form="test">
               <option value=""></option>
               <option value="Glutenvrij">Glutenvrij</option>
               <option value="Geen">Geen</option>
               <option value="Anders namelijk...">Anders namelijk...</option>
               </select> <input type="text"> </p>

            <p><label>Gewenste opleverdatum:</label>
               <input type="date">
            </p>
            <p>
            <label>Opmerkingen:</label>
            
            <input type="text" style="width: 800px;">
            <input id="resetButton" type="reset" value="Reset" onclick="removeAlleLagen()">
            </p>
        </div>
        </div></div>
    </div>
    <div class="content-box" id="kids-cake-content-box">
        <div class="main-background-image" id="kids-cake-main-background"><img src="img/bg_kindertaart.jpg" alt="Princessen kindertaart"/></div>
        <div class="content-center">
            
        <div id="Stap2">
            <h2>Stap 2: Uw gegevens</h2>
           
            <p><label>Aanhef:</label>
               <select name ="test" form="test">
               <option value=""></option>
               <option value="Dhr.">Dhr.</option>
               <option value="Mw">Mw.</option>
               </select> </p>

            <p><label>Naam:</label>
               <input type="text"> </p>

            <p><label>Tel:</label>
               <input type="tel"> </p>

            <p><label>E-mailadres:</label>
               <input type="email" style="width: 200px;"> </p>

            <strong><label>Voorbeeld:</label></strong>
            <p style="border: 1px solid black; height: 200px; width: 200px">
            <input type="image">
            </p>

            <p> 
                <input type="submit" value="Bevestig informatieverzoek">
            </p>
        </div>
        
        
        </form>      
        </div>
    </div>


    <div class="content-box" id="cupcakes-content-box">
        <div class="main-background-image" id="cupcakes-main-background"><img src="img/bg_cupcakes.jpg" alt="Boerderij cupcakes"/></div>
        <div class="content-center">

        </div>
    </div>

    <!-- Javascript -->
    <script type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="js/fondanti.js"></script>
	<script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-39370485-1', 'auto');
      ga('send', 'pageview');
    
    </script>

    <script type="text/javascript">
    // lagen maken


    var cake = ["Biscuitdeeg (1 euro pp)", "Chocolate (2 euro pp)", "Red velvet (3 euro pp)"];
    var bekleding = ["Fondant (1 euro pp)", "Marsepein (3 euro pp)", "Beide (4 euro pp)"];
    var vulling = ["Kindervulling (1 euro pp)", "Gele room met oreo vulling (2 euro pp)", "Champagneroom met frambozen (3 euro pp)"];

    var lijstCake = ["cake1", "cake2", "cake3", "cake4", "cake5"];
    var lijstBekleding = ["bekleding1", "bekleding2", "bekleding3", "bekleding4", "bekleding5"];
    var lijstVulling = ["vulling1", "vulling2", "vulling3", "vulling4", "vulling5"];


    // Variabelen
    var currentLaag = 0;
    var aantalPersonen = 0;

    var laagDiv = document.getElementById("laag1");

    // Wanneer geen laag is kan je ook geen laag verwijderen
    function buttonCheck() {
        if (currentLaag <= 1) {
            document.getElementById("removeButton").disabled = true;
        } else {
            document.getElementById("removeButton").disabled = false;
        }

        // zet aantal personen op 0

        aantalPersonen = document.getElementById("aantalPersonenInput").value;
        document.getElementById("aantalPersonenInput").value = aantalPersonen;

        // zodat aantal personen niet in de min kan
        if (aantalPersonen < 0) {
            aantalPersonen = 0;
        }

        // 15 personen per laag
        if (aantalPersonen >= currentLaag * 15) {
            document.getElementById("addButton").disabled = false;
        } else {
            document.getElementById("addButton").disabled = true;
        }

        while (((currentLaag - 1) * 15) > aantalPersonen) {
            removeLaag();
        }
    }

    //buttoncheck roepen zodat de buttons goed staan
    buttonCheck();

    // remove alle lagen
    function removeAlleLagen() {

        location.reload();

    }



    // remove 1 laag
    function removeLaag() {
        //verwijdert de laatste laag
        var className = "elementsLaag" + currentLaag;
        var className2 = "elementsLaagform"+ currentLaag

        var elements = document.getElementsByClassName(className);
        var elements2 = document.getElementsByClassName(className2);
        while (elements.length > 0) {
            elements[0].parentNode.removeChild(elements[0]);
        }
        while (elements2.length > 0) {
            elements2[0].parentNode.removeChild(elements2[0]);
        }

        if (currentLaag > 1) {
            currentLaag = currentLaag - 1;
        }

        // Refresh zodat taart kleiner word
        taartVoorbeeld();

        //doe een buttoncheck
        buttonCheck();
    }

    function taartVoorbeeld() {
        // haal alles uit de taartdiv
        document.getElementById("taartDiv").innerHTML = "";
        var percentages = ["100%", "80%", "60%", "40%", "20%"];

        //voeg alle lagen omgekeert toe zodat ze op elkaar stapelen
        for (var i = currentLaag; i > 0; i--) {
            var d = document.createElement("div");
            var taartDiv = document.getElementById("taartDiv");
            d.className = "elementsLaag";
            d.style.width = percentages[i - 1];

            taartDiv.appendChild(d);

            for (var j = 0; j < 3; j++) {
                var p = document.createElement("p");
                d.appendChild(p);

                p.textContent = document.getElementById("option" + (j + 1) + "laag" + i).value;
            }
        }
    }

    //voegt een laag toe
    function addLaag() {
        currentLaag = currentLaag + 1;

        //label
        if (currentLaag > 1) {
            var para = document.createElement("p");
            laagDiv.appendChild(para);

            var label = document.createElement("label");
            label.textContent = "Laag " + currentLaag + ":";
            label.className = "elementsLaagform"+ currentLaag;
            para.appendChild(label);
        }


        // laag 1
        var para = document.createElement("p");
        para.className = "elementsLaagform"+ currentLaag;
        laagDiv.appendChild(para);

        var label = document.createElement("label");
        label.textContent = "Type cake laag " + currentLaag + ":";
        label.className = "elementsLaagform"+ currentLaag;
        para.appendChild(label);

        var selectList = document.createElement("select");
        selectList.className = "elementsLaagform"+ currentLaag;
        selectList.id = "option1laag" + currentLaag;
        para.appendChild(selectList);
        selectList.setAttribute('onchange', 'taartVoorbeeld()');

        @foreach (var x in  Cake) {
            @:var option = document.createElement("option");
            @:option.value = '@x' ;
            @:option.text = '@x';
            @:option.id = "option1" + currentLaag;
            @:selectList.appendChild(option);
        }

        //laag 2
        var para = document.createElement("p");
        para.className = "elementsLaagform"+ currentLaag;
        laagDiv.appendChild(para);

        var label = document.createElement("label");
        label.textContent = "Type bekleding laag " + currentLaag + ":";
        label.className = "elementsLaagform"+ currentLaag;
        para.appendChild(label);

        var selectList = document.createElement("select");
        selectList.className = "elementsLaagform"+ currentLaag;
        selectList.id = "option2laag" + currentLaag;
        para.appendChild(selectList);
        selectList.setAttribute('onchange', 'taartVoorbeeld()');


        
        @foreach (var x in  Bekleding) {
            @:var option = document.createElement("option");
            @:option.value = '@x' ;
            @:option.text = '@x';
            @:option.id = "option2" + currentLaag;
            @:selectList.appendChild(option);
        }


        //laag 3
        var para = document.createElement("p");
        para.className = "elementsLaagform"+ currentLaag;
        laagDiv.appendChild(para);

        var label = document.createElement("label");
        label.textContent = "Type vulling laag " + currentLaag + ":";
        label.className = "elementsLaagform"+ currentLaag;
        para.appendChild(label);

        var selectList = document.createElement("select");
        selectList.className = "elementsLaagform"+ currentLaag;
        selectList.id = "option3laag" + currentLaag;
        para.appendChild(selectList);
        selectList.setAttribute('onchange', 'taartVoorbeeld()');

        @foreach (var x in  Vulling) {
            @:var option = document.createElement("option");
            @:option.value = '@x' ;
            @:option.text = '@x';
            @:option.id = "option3" + currentLaag;
            @:selectList.appendChild(option);
        }

        //doe een buttoncheck
        buttonCheck();

        taartVoorbeeld();
    }

    addLaag();


</script>
</body>
</html>